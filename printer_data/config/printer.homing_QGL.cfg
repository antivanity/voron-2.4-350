#####################################################################
#   Homing and Gantry Adjustment Routines
#####################################################################

##  Use QUAD_GANTRY_LEVEL to level a gantry.
##  Min & Max gantry corners - measure from nozzle at MIN (0,0) and 
##  MAX (250, 250), (300,300), or (350,350) depending on your printer size
##  to respective belt positions
[quad_gantry_level]

##  Gantry Corners for 350mm Build
gantry_corners:
   -60,-10
   410,420
##  Probe points
points:
   50,25
   50,275
   300,275
   300,25

speed: 800
horizontal_move_z: 5
retries: 5
retry_tolerance: 0.005 # 0.0075
max_adjust: 10

### FAST_QGL used by beacon!
[gcode_macro FAST_QGL]
gcode:
    M117 QGL
    {% if printer.configfile.settings.quad_gantry_level %}
        {% if printer.quad_gantry_level.applied == False %}
            QUAD_GANTRY_LEVEL RETRY_TOLERANCE=1
        {% endif %}
        QUAD_GANTRY_LEVEL horizontal_move_z=2
    {% endif %} 

[gcode_macro CALIBRATE_BEACON]
gcode:
  M117 https://docs.beacon3d.com/quickstart/#6-calibrate-beacon
  CENTER
  BEACON_CALIBRATE

[gcode_macro PROBE_ACCURACY_BEACON]
gcode:
  M117 https://docs.beacon3d.com/quickstart/#7-basic-first-tests
  CENTER
  PROBE_ACCURACY